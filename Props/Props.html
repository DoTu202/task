<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>React Props Login Demo</title>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body {
        font-family: sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f0f2f5;
        margin: 0;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 8px;
        width: 300px;
        text-align: center;
        border-radius: 20px;
      }
      input {
        width: 90%;
        padding: 10px;
        margin: 10px 0;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      button {
        width: 100%;
        padding: 10px;
        background-color: #1877f2;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 12px;
      }
      button:hover {
        background-color: #166fe5;
      }
      button.logout { background-color: #ff4d4f; }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      //CHILD COMPONENT: Login form
      const LoginForm = (props) => {
        const [username, setUsername] = useState("");

        const handleSubmit = () => {
          if (username.trim() !== "") {
            props.onLogin(username);
          } else {
            alert("Please enter a username!");
          }
        };

        return (
          <div className="container">
            <h2>Login</h2>
            <p style={{ color: "#666", fontSize: "14px" }}>
              Enter your name
            </p>
            <input
              type="text"
              placeholder="Username..."
              value={username}
              onChange={(e) => setUsername(e.target.value)}
            />
            <button onClick={handleSubmit}>Login</button>
          </div>
        );
      };

      //HILD COMPONENT: Dashboard
      const Dashboard = (props) => {
        return (
          <div className="container">
            <h1 style={{ color: "#28a745" }}>Welcome!</h1>
            <h3>{props.user}</h3>
            <p>Welcome to the dashboard.</p>
            <button className="logout" onClick={props.onLogout}>
              Logout
            </button>
          </div>
        );
      };

      //PARENT COMPONENT
      const App = () => {
        const [currentUser, setCurrentUser] = useState(null);

        const handleLoginLogic = (nameFromChild) => {
          console.log("User logged in:", nameFromChild);
          setCurrentUser(nameFromChild);
        };
        const handleLogout = () => {
          setCurrentUser(null);
        };

        return (
          <div>
            {currentUser ? (
              <Dashboard user={currentUser} onLogout={handleLogout} />
            ) : (
              <LoginForm onLogin={handleLoginLogic} />
            )}
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
